<div class="container mx-auto max-w-xl p-6 mx- bg-base-200 rounded-lg shadow-lg">
  <h1 class="text-2xl font-bold text-center mb-6">キャラクター生成フォーム</h1>

  <%= form_with url: characters_path, method: :post, local: true, class: "loading-form space-y-4", html: { onsubmit: "showLoadingModal()" } do |f| %>
    <!-- キャラクターのタイプ -->
    <div class="form-control">
      <%= label_tag :type, "キャラクターのタイプ", class: "label font-bold" %>
      <%= select_tag :type, options_for_select(["モンスター", "ヒーロー", "ロボット"]), 
            id: "type", class: "select select-bordered w-full", required: true %>
    </div>

    <!-- キャラクターの説明 -->
    <div class="form-control">
      <%= label_tag :description_from_user, "キャラクターの説明（最大50文字）", class: "label font-bold" %>
      <%= text_field_tag :description_from_user, nil, id: "description_from_user", 
            class: "input input-bordered w-full", required: true, maxlength: 50, placeholder: "例: バイクに乗って銃を乱射する銃の達人" %>
    </div>

    <!-- 送信ボタン -->
    <div class="text-center">
      <%= submit_tag "キャラクターを生成", class: "btn btn-primary w-full", id: "submit-btn" %>
    </div>
  <% end %>
</div>

<!-- ローディング用ポップアップ（daisyUIのモーダル） -->
<div id="loading-modal" class="modal">
  <div class="modal-box">
    <div class="flex items-center justify-center">
      <span class="loading loading-spinner loading-lg"></span>
      <span class="ml-2">生成中...</span>
    </div>
  </div>
</div>

<script>
  function showLoadingModal() {
    document.getElementById('loading-modal').classList.add('modal-open');
  }
</script>
